<!DOCTYPE html>
<html>
<head>
<title>AJAX Exercise</title>
<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
</head>

<body>

<div id="title">Let AJAX change this text.</div>
<div id="year"></div>
<div id="rated"></div>
<div id="released"></div>
<div id="runtime"></div>
<div id="genre"></div>
<div id="director"></div>
<div id="writer"></div>
<div id="actors"></div>
<div id="plot"></div>
<div id="language"></div>
<div id="country"></div>
<div id="awards"></div>
<div id="poster"></div>
<div id="type"></div>

<button type="button" onclick="loadDoc()">Change Content</button>




</body>
<script>

function loadDoc() {

	var xhttp;
	
	xhttp = new XMLHttpRequest();
	
	xhttp.onreadystatechange = function() {
	
		if (xhttp.readyState === 4 && xhttp.status === 200) {
		
			
			
		/*	var data = JSON.parse(xhttp.responseText);
			
			var ul = document.createElement('ul');
			
			for (var i in data) {
				var li = document.createElement('li');
				li.innerHTML = data[i];
				ul.appendChild(li);			
			}
			document.body.appendChild(ul);
			
		*/
			document.getElementById('title').innerHTML = "Title: " + data.Title;
			document.getElementById('year').innerHTML = "Year: " + data.Year;
			document.getElementById('rated').innerHTML = "Rated: " + data.Rated;
			document.getElementById('released').innerHTML = "Released: " + data.Released;
			document.getElementById('runtime').innerHTML = "Run Time: " + data.Runtime;
			document.getElementById('genre').innerHTML = "Genre: " + data.Genre;
			document.getElementById('director').innerHTML = "Director: " + data.Director;
			
			var namesOfWriters = (data.Writer).split(",");
			
			var b = document.getElementById('writer');			
			document.getElementById('writer').innerHTML = "Writers: ";
			
			var myOlb = document.createElement('ol');
			b.appendChild(myOlb);
			
			for (var ii = 0; ii < namesOfWriters.length; ii++) {
				var myNewElement = document.createElement('li');
				myNewElement.innerHTML = namesOfWriters[ii];
				myOlb.appendChild(myNewElement);
			}
			
			var names = (data.Actors).split(",");
			
			var a = document.getElementById('actors');
			document.getElementById('actors').innerHTML = "Actors: ";
			
			var myOl = document.createElement('ol');
			a.appendChild(myOl);
			
			for (var ii = 0; ii < names.length; ii++) {
				var myNewElement = document.createElement('li');
				myNewElement.innerHTML = names[ii];
				myOl.appendChild(myNewElement);
			}
			
			
			
			document.getElementById('plot').innerHTML = "Plot: " + data.Plot;
			document.getElementById('language').innerHTML = "Language: " + data.Language;
			document.getElementById('country').innerHTML = "Country: " + data.Country;
			document.getElementById('awards').innerHTML = "Awards: " + data.Awards;
			document.getElementById('poster').innerHTML = "Poster: " + data.Poster;
			document.getElementById('type').innerHTML = "Type: " + data.Type;
			
			
			//document.getElementById('title').innerHTML = xhttp.responseText;
			
		
		}
	
	};
	
	xhttp.open("GET",'http://www.omdbapi.com/?t=batman&y=&plot=short&r=json', true);
	
	xhttp.send();
};
		

</script>
</html>